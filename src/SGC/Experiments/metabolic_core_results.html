<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGC Metabolic Core Validator - TCA Cycle Experiment</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #eee;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { 
            text-align: center; 
            margin-bottom: 10px;
            font-size: 2em;
            background: linear-gradient(90deg, #00d4ff, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle { text-align: center; color: #888; margin-bottom: 30px; font-style: italic; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; }
        .card {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }
        .card h3 { 
            margin-bottom: 15px; 
            color: #00d4ff;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
        }
        .chart-container { position: relative; height: 300px; }
        .cycle-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px;
        }
        .cycle-svg { max-width: 100%; height: auto; }
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        .results-table th, .results-table td {
            padding: 12px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .results-table th { background: rgba(0,212,255,0.2); }
        .results-table tr:nth-child(even) { background: rgba(255,255,255,0.03); }
        .dead { color: #4ade80; }
        .alive { color: #f87171; }
        .interpretation {
            background: rgba(0,212,255,0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .interpretation h3 { color: #4ade80; }
        .interpretation ul { list-style: none; padding-left: 0; }
        .interpretation li { 
            padding: 8px 0; 
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .interpretation li::before { content: "âœ“ "; color: #4ade80; }
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: rgba(124,58,237,0.2);
            border-radius: 10px;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ§¬ SGC Metabolic Core Validator</h1>
        <p class="subtitle">TCA Cycle Experiment: Does Flux Create Structure?</p>
        
        <div class="grid">
            <!-- Entropy Production Chart -->
            <div class="card">
                <h3>ðŸ“Š Diagnostic 1: Entropy Production Rate (Ïƒ)</h3>
                <div class="chart-container">
                    <canvas id="entropyChart"></canvas>
                </div>
            </div>
            
            <!-- Total Current Chart -->
            <div class="card">
                <h3>ðŸ“Š Diagnostic 2: Total Probability Current (|J|)</h3>
                <div class="chart-container">
                    <canvas id="currentChart"></canvas>
                </div>
            </div>
            
            <!-- Dead Cycle Diagram -->
            <div class="card">
                <h3 class="dead">ðŸŸ¢ DEAD: k_fwd = k_bwd = 1 (Equilibrium)</h3>
                <div class="cycle-diagram">
                    <svg viewBox="0 0 300 300" class="cycle-svg">
                        <!-- Nodes -->
                        <circle cx="150" cy="50" r="25" fill="#4ade80" stroke="#fff" stroke-width="2"/>
                        <circle cx="237" cy="100" r="25" fill="#4ade80" stroke="#fff" stroke-width="2"/>
                        <circle cx="237" cy="200" r="25" fill="#4ade80" stroke="#fff" stroke-width="2"/>
                        <circle cx="150" cy="250" r="25" fill="#4ade80" stroke="#fff" stroke-width="2"/>
                        <circle cx="63" cy="200" r="25" fill="#4ade80" stroke="#fff" stroke-width="2"/>
                        <circle cx="63" cy="100" r="25" fill="#4ade80" stroke="#fff" stroke-width="2"/>
                        
                        <!-- Labels -->
                        <text x="150" y="55" text-anchor="middle" fill="#000" font-weight="bold">0</text>
                        <text x="237" y="105" text-anchor="middle" fill="#000" font-weight="bold">1</text>
                        <text x="237" y="205" text-anchor="middle" fill="#000" font-weight="bold">2</text>
                        <text x="150" y="255" text-anchor="middle" fill="#000" font-weight="bold">3</text>
                        <text x="63" y="205" text-anchor="middle" fill="#000" font-weight="bold">4</text>
                        <text x="63" y="105" text-anchor="middle" fill="#000" font-weight="bold">5</text>
                        
                        <!-- Bidirectional arrows (gray, equal) -->
                        <line x1="175" y1="60" x2="212" y2="85" stroke="#888" stroke-width="2" marker-end="url(#arrowGray)" marker-start="url(#arrowGray)"/>
                        <line x1="237" y1="125" x2="237" y2="175" stroke="#888" stroke-width="2"/>
                        <line x1="212" y1="215" x2="175" y2="240" stroke="#888" stroke-width="2"/>
                        <line x1="125" y1="250" x2="88" y2="215" stroke="#888" stroke-width="2"/>
                        <line x1="63" y1="175" x2="63" y2="125" stroke="#888" stroke-width="2"/>
                        <line x1="88" y1="85" x2="125" y2="60" stroke="#888" stroke-width="2"/>
                        
                        <defs>
                            <marker id="arrowGray" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                                <path d="M0,0 L10,5 L0,10 Z" fill="#888"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
                <p style="text-align:center; color:#4ade80;">Net Flux J = 0 | Entropy Ïƒ = 0</p>
            </div>
            
            <!-- Alive Cycle Diagram -->
            <div class="card">
                <h3 class="alive">ðŸ”´ ALIVE: k_fwd = 100, k_bwd = 1 (Driven)</h3>
                <div class="cycle-diagram">
                    <svg viewBox="0 0 300 300" class="cycle-svg">
                        <!-- Nodes -->
                        <circle cx="150" cy="50" r="25" fill="#fbbf24" stroke="#f87171" stroke-width="3"/>
                        <circle cx="237" cy="100" r="25" fill="#fbbf24" stroke="#f87171" stroke-width="3"/>
                        <circle cx="237" cy="200" r="25" fill="#fbbf24" stroke="#f87171" stroke-width="3"/>
                        <circle cx="150" cy="250" r="25" fill="#fbbf24" stroke="#f87171" stroke-width="3"/>
                        <circle cx="63" cy="200" r="25" fill="#fbbf24" stroke="#f87171" stroke-width="3"/>
                        <circle cx="63" cy="100" r="25" fill="#fbbf24" stroke="#f87171" stroke-width="3"/>
                        
                        <!-- Labels -->
                        <text x="150" y="55" text-anchor="middle" fill="#000" font-weight="bold">0</text>
                        <text x="237" y="105" text-anchor="middle" fill="#000" font-weight="bold">1</text>
                        <text x="237" y="205" text-anchor="middle" fill="#000" font-weight="bold">2</text>
                        <text x="150" y="255" text-anchor="middle" fill="#000" font-weight="bold">3</text>
                        <text x="63" y="205" text-anchor="middle" fill="#000" font-weight="bold">4</text>
                        <text x="63" y="105" text-anchor="middle" fill="#000" font-weight="bold">5</text>
                        
                        <!-- Thick clockwise arrows (red, dominant) -->
                        <path d="M175,55 Q195,70 215,90" fill="none" stroke="#f87171" stroke-width="4" marker-end="url(#arrowRed)"/>
                        <path d="M237,130 Q237,165 237,175" fill="none" stroke="#f87171" stroke-width="4" marker-end="url(#arrowRed)"/>
                        <path d="M215,210 Q195,230 175,245" fill="none" stroke="#f87171" stroke-width="4" marker-end="url(#arrowRed)"/>
                        <path d="M125,250 Q105,235 85,215" fill="none" stroke="#f87171" stroke-width="4" marker-end="url(#arrowRed)"/>
                        <path d="M63,175 Q63,140 63,125" fill="none" stroke="#f87171" stroke-width="4" marker-end="url(#arrowRed)"/>
                        <path d="M85,85 Q105,65 125,55" fill="none" stroke="#f87171" stroke-width="4" marker-end="url(#arrowRed)"/>
                        
                        <!-- Rotating arrow in center -->
                        <path d="M150,120 A30,30 0 1,1 120,150" fill="none" stroke="#f87171" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowRed)"/>
                        
                        <defs>
                            <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                                <path d="M0,0 L10,5 L0,10 Z" fill="#f87171"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
                <p style="text-align:center; color:#f87171;">Net Flux J = 99 | Entropy Ïƒ = 455.91</p>
            </div>
        </div>
        
        <!-- Results Table -->
        <div class="card" style="margin-top: 20px;">
            <h3>ðŸ“‹ Flux Ratio Sweep Results</h3>
            <table class="results-table">
                <thead>
                    <tr>
                        <th>Flux Ratio (k_fwd/k_bwd)</th>
                        <th>Entropy Production Ïƒ</th>
                        <th>Total Current |J|</th>
                        <th>Cycle Affinity A</th>
                        <th>State</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="dead"><td>1.0</td><td>0.00</td><td>0.0</td><td>0.00</td><td>ðŸŸ¢ Equilibrium</td></tr>
                    <tr><td>2.0</td><td>0.69</td><td>1.0</td><td>4.16</td><td>âšª Near-equilibrium</td></tr>
                    <tr><td>5.0</td><td>6.44</td><td>4.0</td><td>9.66</td><td>ðŸŸ¡ Weakly driven</td></tr>
                    <tr><td>10.0</td><td>20.72</td><td>9.0</td><td>13.82</td><td>ðŸŸ  Moderate</td></tr>
                    <tr><td>20.0</td><td>56.92</td><td>19.0</td><td>17.97</td><td>ðŸŸ  Driven</td></tr>
                    <tr><td>50.0</td><td>191.69</td><td>49.0</td><td>23.47</td><td>ðŸ”´ Strongly driven</td></tr>
                    <tr class="alive"><td>100.0</td><td>455.91</td><td>99.0</td><td>27.63</td><td>ðŸ”´ Far from equilibrium</td></tr>
                </tbody>
            </table>
        </div>
        
        <!-- Interpretation -->
        <div class="interpretation">
            <h3>ðŸŽ¯ Interpretation: SGC Predictions Confirmed</h3>
            <ul>
                <li><strong>Entropy Production INCREASES with flux ratio</strong> â€” Ïƒ = 0 means detailed balance (thermodynamic equilibrium); Ïƒ > 0 means non-equilibrium steady state (NESS)</li>
                <li><strong>Total Current INCREASES with flux ratio</strong> â€” Dead systems have zero net current (J = 0); Living systems have directed flux (J â‰  0)</li>
                <li><strong>Cycle Affinity A = 6Â·ln(k_fwd/k_bwd)</strong> â€” The thermodynamic "driving force" that maintains the cycle</li>
                <li><strong>Conductance remains constant</strong> â€” For uniform Ï€ on a symmetric ring, Ï†_q = 1/3 regardless of flux (geometric property)</li>
            </ul>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <strong>âœ“ SGC Prediction Confirmed: FLUX CREATES STRUCTURE</strong><br>
            <span style="color:#888;">The "driven" cycle dissipates entropy to maintain order. Entropy production is the thermodynamic cost of "aliveness".</span>
        </div>
    </div>
    
    <script>
        // Entropy Production Chart
        new Chart(document.getElementById('entropyChart'), {
            type: 'line',
            data: {
                labels: ['1', '2', '5', '10', '20', '50', '100'],
                datasets: [{
                    label: 'Entropy Production Ïƒ',
                    data: [0, 0.69, 6.44, 20.72, 56.92, 191.69, 455.91],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0,212,255,0.1)',
                    fill: true,
                    tension: 0.3,
                    pointRadius: 6,
                    pointBackgroundColor: '#00d4ff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: '#eee' } }
                },
                scales: {
                    x: { 
                        title: { display: true, text: 'Flux Ratio (k_fwd / k_bwd)', color: '#eee' },
                        ticks: { color: '#aaa' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    },
                    y: { 
                        title: { display: true, text: 'Entropy Production Ïƒ', color: '#eee' },
                        ticks: { color: '#aaa' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                }
            }
        });
        
        // Total Current Chart
        new Chart(document.getElementById('currentChart'), {
            type: 'bar',
            data: {
                labels: ['1', '2', '5', '10', '20', '50', '100'],
                datasets: [{
                    label: 'Total Current |J|',
                    data: [0, 1, 4, 9, 19, 49, 99],
                    backgroundColor: [
                        '#4ade80', '#86efac', '#fde047', '#fb923c', '#f97316', '#ef4444', '#dc2626'
                    ],
                    borderColor: '#fff',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: '#eee' } }
                },
                scales: {
                    x: { 
                        title: { display: true, text: 'Flux Ratio (k_fwd / k_bwd)', color: '#eee' },
                        ticks: { color: '#aaa' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    },
                    y: { 
                        title: { display: true, text: 'Total Current |J|', color: '#eee' },
                        ticks: { color: '#aaa' },
                        grid: { color: 'rgba(255,255,255,0.1)' }
                    }
                }
            }
        });
    </script>
</body>
</html>
